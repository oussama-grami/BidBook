<!-- transaction-history.component.html -->
<div class="transaction-history-container">
  <h1>My History</h1>
  <!-- Filters Section -->
  <div class="filter-card">
    <!-- Period Filter -->
    <div class="filter-section">
      <h2 class="filter-title">Period</h2>

      <div class="period-buttons">
        <button
          *ngFor="let option of periodOptions"
          [class.selected]="selectedPeriod === option"
          (click)="setPeriod(option)"
          class="period-btn">
          {{ option }}
        </button>
      </div>
    </div>

    <!-- Date Range Selector -->
    <div class="filter-section">
      <h2 class="filter-title">Select period</h2>

      <div class="date-range">
        <div class="date-input">
          <i class="calendar-icon">&#128197;</i>
          <input
            [matDatepicker]="startDatepicker"
            [value]="startDate"
            (dateChange)="onStartDateChange($event)"
            placeholder="Start date"
            readonly>
          <mat-datepicker-toggle matSuffix [for]="startDatepicker"></mat-datepicker-toggle>
          <mat-datepicker #startDatepicker></mat-datepicker>
        </div>

        <span class="separator">-</span>

        <div class="date-input">
          <i class="calendar-icon">&#128197;</i>
          <input
            [matDatepicker]="endDatepicker"
            [value]="endDate"
            (dateChange)="onEndDateChange($event)"
            placeholder="End date"
            readonly>
          <mat-datepicker-toggle matSuffix [for]="endDatepicker"></mat-datepicker-toggle>
          <mat-datepicker #endDatepicker></mat-datepicker>
        </div>
      </div>
    </div>

    <!-- Status Filter -->
    <div class="filter-section">
      <h2 class="filter-title">Status</h2>

      <div class="status-buttons">
        <button
          *ngFor="let status of statusOptions"
          [class.selected]="selectedStatus === status"
          (click)="setStatus(status)"
          class="status-btn">
          {{ status }}
        </button>
      </div>
    </div>

    <!-- Search Button -->
    <div class="search-button-container">
      <button (click)="search()" class="search-btn">Search</button>
    </div>
  </div>

  <!-- Transactions List -->
  <div class="transactions-list">
    <div *ngFor="let transaction of transactions" class="transaction-item">
      <div class="transaction-info">
        <div class="transaction-direction">{{ transaction.direction }} {{ transaction.user }}</div>
        <div class="transaction-amount">{{ transaction.amount }}</div>
      </div>

      <div class="transaction-meta">
        <div class="transaction-type" [class.bought]="transaction.type === 'Bought'" [class.sold]="transaction.type === 'Sold'">
          {{ transaction.type }}
        </div>
        <div class="transaction-date">{{ transaction.date }}</div>
      </div>
    </div>
  </div>
</div>
